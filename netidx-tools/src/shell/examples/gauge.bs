use gui;

let trigger = time::timer(duration:1.0s, true);
let power = 0.0;
power <- sample(#trigger, min(1.0, power + 0.01));

let color = select power {
  x if x < 0.10 => `Red,
  x if x < 0.25 => `Yellow,
  x => `Green
};

block(
  #border:&`All,
  #title:&line("Power"),
  &gauge(
    #gauge_style:&style(#fg: color),
    &power
  )
)
